// ================= 页面整体布局 =================
.feeds-admin {
	// 页面根容器
	max-width: 1200px;
	padding: 1rem;

	// ========== 分组区域 ==========
	.group {
		// 单个分组容器
		margin-bottom: 1rem;
		padding: 1.5rem;
		border: 1px solid var(--c-border);
		border-radius: 0.8rem;
		background-color: var(--c-bg-1);

		.group-title {
			margin-bottom: 1rem;
			color: var(--c-text-1);
		}

		.entries {
			// 分三栏布局
			columns: 3 250px;
		}

		// ========== 友链卡片 ==========
		.entry-card {
			// 卡片容器
			display: block;
			overflow: hidden;
			margin: 0 0 1rem;
			padding: 1rem;
			border: var(--c-border) 1px solid;
			border-radius: 0.6rem;
			background-color: var(--c-bg-1);
			transition: all 0.2s ease;
			cursor: pointer;
			break-inside: avoid;

			&:hover {
				border-color: var(--c-primary);
			}

			.entry-header {
				// 条目头部（主信息）
				display: flex;
				align-items: center;
				gap: 0.75rem;

				.drag-handle {
					padding: 0.25rem;
					color: var(--c-text-3);
					transition: all 0.2s;
					cursor: move;

					&:hover {
						color: var(--c-text-1);
					}
				}

				.avatar-preview {
					// 头像预览
					flex-shrink: 0;
					overflow: hidden;
					width: 2.5rem;
					height: 2.5rem;
					border-radius: 18%;

					img {
						width: 100%;
						height: 100%;
						object-fit: cover;
					}
				}

				.entry-title {
					// 作者/链接显示
					flex: 1;
					min-width: 0; // 允许文本收缩

					.author-display,
					.link-display {
						display: block;
						overflow: hidden;
						white-space: nowrap;
						text-overflow: ellipsis;
					}

					.author-display {
						font-family: Misans;
						font-weight: 600;
					}

					.link-display {
						font-size: 0.85rem;
						color: var(--c-text-3);
					}
				}
			}
		}

		// ========== 友链编辑器 ==========
		.entry-editor {
			// 编辑器容器 - 展开时占据整行
			display: block;

			// 确保编辑器跨越所有列
			column-span: all;
			overflow: hidden;
			margin-top: 1rem;
			border: var(--c-border) 1px solid;
			border-radius: 0.6rem;
			background-color: var(--c-bg-1);
			animation: slide-down 0.3s ease;
			break-inside: avoid;

			.delete-confirmation {
				padding: 1rem;
				color: var(--c-text-1);

				.confirmation-actions {
					display: flex;
					gap: 0.5rem;
				}
			}

			.entry-details {
				// 条目详情表单
				padding: 1rem;

				.detail-row {
					label {
						display: block;
						margin-bottom: 0.375rem;
						color: var(--c-text-1);
					}

					input {
						width: 100%;
						padding: 0.65rem;
						border: var(--c-border) 1px solid;
						border-radius: 0.25rem;
						box-sizing: border-box;
						color: var(--c-text-1);
						transition: border-color 0.2s;

						&:focus {
							border: var(--c-primary) 1px solid;
							outline: none;
						}
					}

					.input-with-preview {
						// 图标/头像输入带预览
						display: flex;
						align-items: center;
						gap: 0.75rem;

						input {
							flex: 1;
						}

						.icon-preview {
							flex-shrink: 0;
							overflow: hidden;
							width: 2rem;
							height: 2rem;
							border-radius: 0.25rem;

							img {
								width: 100%;
								height: 100%;
								object-fit: contain;
							}
						}
					}

					.dual-input-row {
						display: flex;
						gap: 1rem;
						margin-bottom: 1rem;
					}

					.dual-input-group {
						flex: 1;

						input {
							width: 100%;
						}

						small {
							display: block;
							margin-top: 0.25rem;
							font-size: 0.8rem;
							color: var(--c-text-3);
						}
					}
				}

				.detail-actions {
					// 详情区域操作按钮
					display: flex;
					grid-column: 1 / -1;
					gap: 0.25rem;
				}
			}
		}

		.entry-actions-footer {
			// 分组底部添加按钮
			display: flex;
			padding-top: 1rem;
		}

		// 拖拽相关样式
		.ghost {
			// 拖拽占位符样式
			opacity: 0.5;
			border: 2px dashed #007BFF;
			background-color: var(--c-bg-1);
			transform: none;
		}

		.drag {
			// 拖拽元素样式
			opacity: 0.9;
			border-radius: 0.3rem;
			box-shadow: 0 8px 20px rgb(0 0 0 / 30%);
			transform: translate(2px, 2px) scale(1.02);
			z-index: 1000;
		}
	}
}

// ================= 按钮样式 =================
.btn-primary,
.btn-success,
.btn-info,
.btn-secondary,
.btn-danger,
.btn-icon {
	// 统一按钮样式
	display: inline-flex;
	align-items: center;
	gap: 0.25rem;
	padding: 0.5rem 0.75rem;
	border: var(--c-border) 1px solid;
	border-radius: 0.25rem;
	font-weight: 500;
	color: var(--c-text-1);
	transition: all 0.2s;
	cursor: pointer;

	&:hover:not(:disabled) {
		opacity: 0.9;
	}
}

.btn-danger {
	border: orangered 1px solid;
	color: orangered;
}

.btn-icon {
	// 纯图标按钮
	display: inline-flex;
	align-items: center;
	justify-content: center;
	min-width: 2rem;
	min-height: 2rem;
	border-radius: 0.25rem;
	background-color: transparent;

	i {
		font-size: 0.875rem;
	}
}

// ================= 详情表单区域 =================
.entry-details {
	// 条目详情表单网格
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
	gap: 1rem;
}

@keyframes slide-down {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}
